(function(e){function t(t){for(var n,o,s=t[0],c=t[1],l=t[2],d=0,f=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&f.push(i[o][0]),i[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(f.length)f.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,s=1;s<r.length;s++){var c=r[s];0!==i[c]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},i={app:0},a=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"09c4":function(e,t,r){},"09e1":function(e,t,r){},"0cda":function(e,t,r){},"1dfb":function(e,t,r){"use strict";r("db87")},"1e1c":function(e,t,r){"use strict";r("bde8")},"23ac":function(e,t,r){},2831:function(e,t,r){"use strict";r("8740")},"2a62":function(e,t,r){"use strict";r("a7e5")},"33ee":function(e,t,r){"use strict";r("8b65")},3670:function(e,t,r){},4333:function(e,t,r){"use strict";r("5bdb")},"44b3":function(e,t,r){"use strict";r("d9ab")},"4cd9":function(e,t,r){},"4f47":function(e,t,r){"use strict";r("23ac")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"hagrid",class:"hagrid__"+e.getColorTheme},[e.modalIsOpen?r("Modal",{on:{modalEmit:e.modalEventHandler}}):e._e(),e.isMobile?e._e():r("SecretModal"),r("div",{staticClass:"tv-wrapper",class:"tv-wrapper__"+e.getColorTheme},["classic"===e.getColorTheme?r("CHeader"):e._e(),e.tvFinishedLoaded?r("div",{staticClass:"tv",class:"tv__"+e.getColorTheme},[r("div",{staticClass:"tv__top-mobile"},[r("IconPlay",{staticClass:"tv__large-button",on:{clicked:e.play}}),r("IconInfo",{staticClass:"tv__large-button",on:{clicked:e.openModal}})],1),r("div",{staticClass:"tv__left"},[r("IconInfo",{staticClass:"tv__large-button",on:{clicked:e.openModal}}),e.isMobile?e._e():r("TvButtonsComponent")],1),r("div",{staticClass:"tv__middle"},["darkStar"===e.getColorTheme?r("CHeader"):e._e(),r("GridLayout",{ref:"gridLayout",attrs:{styling:e.styling},on:{"clicked-on-square":e.playNote}}),e.isMobile?r("TvButtonsComponent",{staticClass:"tv__buttons-mobile",attrs:{desktopVersion:!1}}):e._e()],1),r("div",{staticClass:"tv__right"},[r("IconPlay",{staticClass:"tv__large-button",on:{clicked:e.play}}),r("div",{staticClass:"sliderContainer"},[r("Slider",{attrs:{largeText:!1,name:"bpm","max-value":250,"min-value":50,"value-type":"Tone",initialValue:e.bpm,method:"changeBpm",adjustValueToSlide:!1}}),r("Slider",{attrs:{largeText:!1,name:"Rev","max-value":1,"min-value":0,"value-type":"Tone","initial-value":e.reverb,method:"changeReverb"}}),r("Slider",{attrs:{largeText:!1,name:"Vol","max-value":10,"min-value":0,"value-type":"Tone","actual-value":!0,initialValue:e.initialVolume,method:"changeVolume"}})],1)],1),e.overlayVisible?r("Overlay",{on:{closeOverlay:e.closeOverlay}}):e._e()],1):e._e(),e._m(0)],1)],1)},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"footer"},[r("p",{staticClass:"footer__signature"},[e._v("made by Andreas GranÃ©r")])])}],o=(r("a4d3"),r("99af"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("ac1f"),r("38cf"),r("5319"),r("159b"),r("96cf"),r("1da1")),s=r("ade3"),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modal"},[r("Menu",{on:{menuEmit:e.modalEmit}})],1)},l=[],u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"menu",class:{"menu-black":e.menuStep.length||e.componentData}},[e.componentData?r(e.componentData.component,e._b({tag:"component",on:{changedValue:e.changedValue,back:function(t){return e.back()}}},"component",e.componentData,!1)):r("ul",{staticClass:"menu__options"},e._l(e.currentMenuValues.values,(function(t,n){return r("li",{key:n,staticClass:"menu__option"},["link"===t.type?r("a",{staticClass:"menu__option menu__option--link",attrs:{href:t.url},on:{click:function(t){return e.$emit("menuEmit","closeModal")}}},[e._v(" "+e._s(t.name))]):r("span",{on:{click:function(r){return e.handleClick(t,n)}}},[e._v(e._s(t.name))]),"toggle"===t.type?r("span",{staticClass:"menu__toggle",class:{active:e.midiOutActive}},[e._v(e._s(e.toggleValue(t.name)))]):e._e()])})),0),r("div",{staticClass:"menu__option menu__option-back",on:{click:function(t){return e.back()}}},[e._v("back")])],1)},d=[],f=(r("a434"),r("b0c0"),r("d3b7"),r("ddb0"),{type:"text",values:[{type:"component",component:"SliderContainer",name:"Grid size",values:[{name:"x",type:"component",component:"Slider",valueType:"GridSize",maxValue:25,minValue:1,initialValue:15,integer:!0,action:"changeGridSize"},{name:"y",type:"component",valueType:"GridSize",component:"Slider",maxValue:25,minValue:1,initialValue:15,integer:!0,action:"changeGridSize"}]},{name:"Arpeggio",type:"text",values:[{name:"minor",action:"changeArpeggio",payload:[3,4,3,2]},{name:"major",action:"changeArpeggio",payload:[4,3,4,1]},{name:"custom",type:"component",component:"inputField",action:"changeArpeggio",message:"Write intervals in semitones",closeAfterChoice:!0}]},{name:"Angle",type:"text",values:[{name:"symetric",action:"changeAngle",payload:"symetric"},{name:"diatonic",action:"changeAngle",payload:"diatonic"}]},{name:"Midi out",type:"text",values:[{name:"Midi out:",type:"toggle",action:"toggleMidiOutActive"},{name:"Midi outputs",type:"component",component:"MidiOutputs"},{name:"Midi channel",type:"component",component:"inputField",message:"Select midi output channel",action:"setMidiOutputChannel",singleInteger:!0,min:1,max:16,method:"setOutputChannel"},{name:"Midi note properties",type:"component",component:"MidiOptionSliders",values:[{name:"Velocity",type:"component",component:"Slider",valueType:"Midi",maxValue:1,minValue:0,initialValue:0,integer:!1,method:"changeMidiNoteVelocity"},{name:"NoteLength",type:"component",component:"Slider",valueType:"Midi",maxValue:1,minValue:0,initialValue:0,integer:!1,method:"changeMidiNoteLength"}]}]},{name:"Color theme",type:"text",values:[{name:"Classic Hagrid",type:"action",action:"setColorTheme",payload:"classic"},{name:"Dark Star",type:"action",action:"setColorTheme",payload:"darkStar"}]},{name:"Tutorials",type:"link",url:"https://youtube.com/playlist?list=PL33pZJPW8OPWcvtw1XmrNGq15qqMsdSm9"}]}),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"slider-container"},[r("div",{staticClass:"slot-container"},e._l(e.values,(function(t,n){return r("Slider",e._b({key:n},"Slider",t,!1))})),1)])},h=[],m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"slider-wrapper",class:e.colorTheme},[r("div",{ref:"slider",staticClass:"slider",on:{mouseleave:function(t){e.clicked=!1},mousedown:e.mouseHandler,mouseup:function(t){e.clicked=!1},mousemove:e.mouseHandler,touchstart:function(t){e.clicked=!0},touchmove:e.mouseHandler,touchend:function(t){e.clicked=!1},touchcancel:function(t){e.clicked=!1}}},[r("div",{staticClass:"slider__track"}),r("div",{staticClass:"slider__knob",style:e.knobPosition})]),r("div",{staticClass:"slider-wrapper__type",class:{"large-text":e.largeText}},[e._v(" "+e._s(e.name)+" "),r("span",{staticClass:"slider-wrapper__value"},[e._v(e._s(e.customSlideValue))])])])},g=[],v=(r("a9e3"),r("c62b")),y=r.n(v),b=150,w=1,O=null,C={velocity:.9,noteLength:.2},S=6e4*C["noteLength"]/b,_=new Promise((function(e,t){y.a.enable((function(r){if(r)return t(r);e(y.a.outputs)}))}));function x(){S=6e4*C["noteLength"]/b}var P=function(e){var t=e.name,r=e.val;C[t]=r,x()},j=function(e){C["noteLength"]=e,x()},k=function(e){C["velocity"]=e},D=function(e){O=e},T=function(e){w=e},A=function(e){if(O){var t=Math.log(e/440)/Math.log(2)*12+69,r=C.velocity;O.playNote(t,w,{duration:S,velocity:r})}},M=function(){O&&O.stopNote("all")},q=function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_;case 2:t=e.sent,r=t.filter((function(e){return e.name===localStorage.midiOutput})),O=r[0];case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();q();var $=r("8cc4");function E(e,t){var r=JSON.stringify(e);localStorage.setItem(t,r)}function N(e){var t=localStorage.getItem(e);return t?JSON.parse(t):""}function I(){var e=N("gridSize"),t=N("arpeggio"),r=N("transformedSquares"),n=N("colorTheme"),i=N("joystickMode"),a=N("midiOutActive"),o=N("waveform"),s=N("volume");return{gridSize:e,arpeggio:t,transformedSquares:r,colorTheme:n,joystickMode:i,midiOutActive:a,waveform:o,volume:s}}function V(){var e=N("bpm"),t=N("reverbValue"),r=N("waveform");return{bpm:e,reverbValue:t,waveform:r}}var B=150,z=new $["Reverb"]({decay:5,wet:.3,preDelay:.2}).toMaster(),L=new $["Filter"]({type:"bandpass",Q:120}).toMaster(),G=new $["Synth"]({oscillator:{type:"sawtooth",modulationFrequency:.2},envelope:{attack:.02,decay:.1,sustain:.2,release:.2}});function R(){return F.apply(this,arguments)}function F(){return F=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,z.generate();case 2:G.connect(z),G.connect(L);case 4:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}var H=function(e){$["Transport"].bpm.value=B,$["Transport"].start(),$["Transport"].scheduleRepeat(e,"16n")},W=function(){$["Transport"].cancel()},J=function(e){B=e,E(e,"bpm"),$["Transport"].bpm.value=e},K=function(e){z.wet.value=e,E(e,"reverbValue")},Y=function(e){G.oscillator.type=e,E(e,"waveform")},U=function(e){var t;t=e>0?e-10:-100;var r=4*t;G.volume.value=r,E(e,"volume")},X=function(e){var t=e?-150:0;G.volume.value=t},Q=function(){var e=V(),t=e.bpm,r=e.reverbValue,n=(e.volume,e.waveform);t&&(B=t),r&&(z.wet.value=r),n&&Y(n)};Q();var Z={name:"sliders",data:function(){return{sliderValue:this.maxValue/2,clicked:!1}},props:{name:{type:String,default:""},maxValue:{type:Number,default:100},minValue:{type:Number,default:100},initialValue:{type:Number,default:0},integer:{type:Boolean,default:!1},largeText:{type:Boolean,default:!0},valueType:{type:String,required:!0},method:{type:String,default:""},action:{type:String}},created:function(){if("GridSize"!==this.valueType)this.sliderValue=this.valueToSlide(this.initialValue),this.handleChange();else{var e=this.$store.getters.getGridSize;this.sliderValue=this.valueToSlide(e[this.name])}},methods:{changeMidiNoteLength:j,changeMidiNoteVelocity:k,changeBpm:J,changeReverb:K,changeVolume:U,mouseHandler:function(e){if(e.preventDefault(),"mousedown"===e.type&&(this.clicked=!0),this.clicked){var t=this.$refs.slider.getBoundingClientRect(),r=t.top,n=t.bottom,i=e.clientY?e.clientY:e.touches[0].clientY,a=n-r,o=i-r,s=o/a*100;s<0&&(s=0),s>100&&(s=100),this.sliderValue=s,this.handleChange()}},handleChange:function(){if(this.method)this[this.method](this.customSlideValue);else if(this.action){var e={};e[this.name]=this.customSlideValue,this.$store.dispatch(this.action,e)}},valueToSlide:function(e){var t=this.maxValue-this.minValue,r=e-this.minValue,n=r/t,i=this.integer?Math.round(100*n):100*n;return 100-i}},computed:{colorTheme:function(){return this.$store.getters.getColorTheme},knobPosition:function(){var e=this.sliderValueToInteger<100?this.sliderValueToInteger:100;return{bottom:"".concat(e,"%")}},sliderValueToInteger:function(){return 100-Math.round(this.sliderValue)},customSlideValue:function(){var e=this.maxValue,t=this.minValue,r=e-t,n=r/100,i=n*this.sliderValueToInteger+t,a=Math.round(10*i)/10;return this.integer?Math.round(a):a}}},ee=Z,te=(r("ba82"),r("2877")),re=Object(te["a"])(ee,m,g,!1,null,null,null),ne=re.exports,ie={name:"SliderContainer",props:{values:{type:Array,default:function(){return[]}}},components:{Slider:ne}},ae=ie,oe=(r("2a62"),Object(te["a"])(ae,p,h,!1,null,null,null)),se=oe.exports,ce=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"midi-out"},[r("ul",{staticClass:"midi-out__options"},e._l(e.midiOutputs,(function(t,n){return r("li",{key:n,staticClass:"midi-out__option",on:{click:function(r){return e.setMidiOutput(t)}}},[e._v(e._s(t.name))])})),0)])},le=[],ue={name:"MidiOut",data:function(){return{midiOutputs:[]}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_;case 2:e.midiOutputs=t.sent;case 3:case"end":return t.stop()}}),t)})))()},methods:{setMidiOutput:function(e){D(e),localStorage.setItem("midiOutput",e.name),this.$store.dispatch("modalIsOpen",!1)}}},de=ue,fe=(r("2831"),Object(te["a"])(de,ce,le,!1,null,null,null)),pe=fe.exports,he=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"input-field"},[r("span",[e._v(e._s(e.message))]),e.singleInteger?r("input",{directives:[{name:"model",rawName:"v-model",value:e.val,expression:"val"}],staticClass:"input-field__input",attrs:{type:"number",min:e.min,max:e.max},domProps:{value:e.val},on:{click:e.handleInput,input:function(t){t.target.composing||(e.val=t.target.value)}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:e.val,expression:"val"}],staticClass:"input-field__input",attrs:{type:"text"},domProps:{value:e.val},on:{keypress:e.handleInput,input:function(t){t.target.composing||(e.val=t.target.value)}}}),e.closeAfterChoice?r("span",{staticClass:"input-field__confirm-button",on:{click:function(t){return e.confirm()}}},[e._v("Ok")]):e._e()])},me=[],ge={name:"MidiOut",data:function(){return{val:null}},props:{closeAfterChoice:{type:Boolean,default:!1},message:{type:String,default:""},singleInteger:{type:Boolean,default:!1},action:{type:String,default:""},min:{type:Number,default:0},max:{type:Number,default:100},method:{type:String,default:""}},methods:{setOutputChannel:T,confirm:function(){this.val&&this.action&&(this.$store.dispatch(this.action,this.val),this.$store.dispatch("modalIsOpen",!1))},handleInput:function(e){var t=e.charCode;(t<48||t>57)&&0!==t&&e.preventDefault(),this.closeAfterChoice||this[this.method](this.val)}}},ve=ge,ye=(r("1dfb"),Object(te["a"])(ve,he,me,!1,null,null,null)),be=ye.exports,we=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"midi-sliders"},[r("div",{staticClass:"slot-container"},e._l(e.values,(function(t,n){return r("Slider",e._b({key:n,on:{changedValue:e.handleChange}},"Slider",t,!1))})),1)])},Oe=[],Ce={name:"SliderContainer",props:{values:{type:Array,default:function(){return[]}}},components:{Slider:ne},methods:{handleChange:function(e){P(e)}}},Se=Ce,_e=(r("44b3"),Object(te["a"])(Se,we,Oe,!1,null,null,null)),xe=_e.exports,Pe={name:"Menu",data:function(){return{menuStep:[],componentData:null}},components:{SliderContainer:se,MidiOutputs:pe,inputField:be,MidiOptionSliders:xe},methods:{handleClick:function(e,t){switch(e.type){case"text":return void this.menuStep.push(t);case"component":return void(this.componentData=e);case"toggle":return void this.$store.dispatch(e.action)}this.menuChoice(e)},back:function(){var e=this.menuStep;this.componentData?this.componentData=null:e.length?e.splice(-1,1):this.$emit("menuEmit","closeModal")},menuChoice:function(e){this.$store.dispatch(e.action,e.payload),this.$emit("menuEmit","closeModal")},changedValue:function(e){var t=e.val,r=e.name;if(this.$store.dispatch("setPlayingDiv",!1),"x"===r||"y"===r){var n=this.gridSize;n[r]=t,this.$store.dispatch("setGridSize",n)}},toggleValue:function(e){switch(e){case"Midi out:":return this.midiOutActive?"ON":"OFF"}}},computed:{midiOutActive:function(){return this.$store.getters.midiOutActive},gridSize:function(){return this.$store.getters.getGridSize},currentMenuValues:function(){var e=this.menuStep;switch(e.length){case 1:return f.values[e[0]];case 2:return f[e[0]].values[e[1]]}return f}}},je=Pe,ke=(r("b140"),Object(te["a"])(je,u,d,!1,null,null,null)),De=ke.exports,Te={name:"Modal",data:function(){return{}},components:{Menu:De},methods:{modalEmit:function(e){this.$emit("modalEmit",e)}}},Ae=Te,Me=(r("33ee"),Object(te["a"])(Ae,c,l,!1,null,"243ad512",null)),qe=Me.exports,$e=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page-wrapper"},e._l(e.gridSize.y,(function(t){return r("div",{key:t,class:e.createRowClass(t)},e._l(e.gridSize.x,(function(n){return r("div",{key:n,ref:e.getRefFromCoordinates(n,t),refInFor:!0,class:e.createColClass(n),on:{mouseover:function(r){return e.mouseEventHandler(n,t)}}},[r("square",{attrs:{refForSquare:e.refForSquare(n,t),highlightPos:e.highlightPos},on:{"clicked-on-square":function(t){return e.$emit("clicked-on-square",t)}}})],1)})),0)})),0)},Ee=[],Ne=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"square",class:{startingArrow:e.isStartingArrow},style:e.colorStyling,on:{contextmenu:e.handleRightClick,mousedown:e.handleClick}},[e._t("default",[e.directionPickerOpen?r("Direction-picker",{on:{directionSet:e.addArrow,removeArrowDiv:function(t){return e.removeTransformedSquare(e.transformedSquare)},closeDirectionPicker:function(t){e.directionPickerOpen=!1}}}):e._e()]),e.transformedSquare?r("div",{staticClass:"square__arrow-wrapper"},[r("div",{class:e.transformedSquareStyle},["Portal"===e.transformedSquare.type?r("span",{staticClass:"portal__number"},[e._v(e._s(e.portalNumber()))]):e._e()])]):e._e()],2)},Ie=[],Ve=r("2f62"),Be=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"direction-picker",on:{mouseleave:function(t){return e.handleMouseLeave()},mouseup:function(t){return e.handleMouseUp()}}},[r("div",{staticClass:"direction-picker__wrapper direction-picker__row--1 direction-picker__column--2",on:{mousedown:function(t){return e.setDirection("up")},mouseover:function(t){return e.handleMouseOver("up")}}},[r("Triangle",{attrs:{borderSize:"12px"}})],1),r("div",{staticClass:"direction-picker__wrapper direction-picker__row--2 direction-picker__column--1",on:{mousedown:function(t){return e.setDirection("left")},mouseover:function(t){return e.handleMouseOver("left")}}},[r("Triangle",{attrs:{direction:"left",borderSize:"12px"}})],1),r("div",{staticClass:"direction-picker__wrapper direction-picker__row--2 direction-picker__column--2",on:{mouseover:function(t){return e.handleMouseOver("")}}}),r("div",{staticClass:"direction-picker__wrapper direction-picker__row--2 direction-picker__column--3",on:{mousedown:function(t){return e.setDirection("right")},mouseover:function(t){return e.handleMouseOver("right")}}},[r("Triangle",{attrs:{direction:"right",borderSize:"12px"}})],1),r("div",{staticClass:"direction-picker__wrapper direction-picker__row--3 direction-picker__column--2",on:{mousedown:function(t){return e.setDirection("down")},mouseover:function(t){return e.handleMouseOver("down")}}},[r("Triangle",{attrs:{direction:"down",borderSize:"12px"}})],1)])},ze=[],Le=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"triangle"},[r("div",{style:e.whatDirection}),e.headerText?r("h2",{staticClass:"triangle__text"},[e._v(e._s(e.headerText))]):e._e()])},Ge=[],Re={name:"Triangle",props:{direction:{type:String,default:"up"},borderSize:{type:String,default:"25px"},color:{type:String,default:"grey"},headerText:{type:String,default:""}},computed:{whatDirection:function(){var e,t=this.direction,r=["left","right"],n=["top","bottom"],i="",a=[];switch(t){case"right":i="left",a=n;break;case"left":i="right",a=n;break;case"up":i="bottom",a=r;break;case"down":i="top",a=r;break}var o="border-"+a[0],c="border-"+a[1],l="border-"+i;return e={width:0},Object(s["a"])(e,l," ".concat(this.borderSize," solid ").concat(this.color)),Object(s["a"])(e,o,"".concat(this.borderSize," solid transparent")),Object(s["a"])(e,c,"".concat(this.borderSize," solid transparent")),e}}},Fe=Re,He=(r("5fe9"),Object(te["a"])(Fe,Le,Ge,!1,null,"4c78a2e7",null)),We=He.exports;function Je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ye={name:"directionPicker",components:{Triangle:We},data:function(){return{mouseDown:!0,preliminaryDirection:""}},methods:{setDirection:function(e){this.$emit("directionSet",e)},handleMouseOver:function(e){this.mouseDown&&(this.preliminaryDirection=e)},handleMouseDown:function(){this.mouseDown=!0},handleMouseUp:function(){this.mouseDown=!1,this.preliminaryDirection&&this.setDirection(this.preliminaryDirection)},handleMouseLeave:function(){this.isMobile||(this.mouseDown?(this.setDirection(this.preliminaryDirection),this.$emit("closeDirectionPicker")):this.$emit("closeDirectionPicker"))}},computed:Ke({},Object(Ve["d"])(["isMobile"]))},Ue=Ye,Xe=(r("fa46"),Object(te["a"])(Ue,Be,ze,!1,null,"7652862a",null)),Qe=Xe.exports;function Ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var tt={name:"Square",data:function(){return{directionPickerOpen:!1,portal:!1,touchStart:null,x:0,y:0,longTouch:!1}},props:{refForSquare:{default:function(){},type:Object},refreshIndex:{type:Number},highlightPos:{type:Object,default:function(){}}},components:{DirectionPicker:Qe},mounted:function(){var e=this;this.isMobile&&(this.$el.addEventListener("touchstart",(function(t){return e.handleTouchStart(t)})),this.$el.addEventListener("touchmove",(function(t){return e.handleTouchMove(t)})),this.$el.addEventListener("touchend",(function(t){return e.handleTouchEnd(t)})))},methods:et({},Object(Ve["b"])(["addArrowRef","addTransformedSquare","removeTransformedSquare","togglePause"]),{colorCalcDif:function(e,t){var r=this.highlightPos[t],n=this.gridSize[t]-1,i=[e,r];i.sort((function(e,t){return t-e}));var a=i[0],o=i[1],s=a-o,c=s/n,l=250*c;return 250-l},handleTouchEnd:function(e){if(e.preventDefault(),this.longTouch=!1,this.touchStart)if(!this.portalCreatorActive||this.transformedSquare){var t=this.x,r=this.y;this.directionBasedOnTouch(t,r),this.touchStart=null}else this.addPortal()},handleTouchStart:function(e){var t=this;if(this.transformedSquare)this.removeTransformedSquare(this.transformedSquare);else{this.longTouch=!0,setTimeout((function(){t.longTouch&&t.addTransformedSquare(et({},t.refForSquare,{type:"Pause"}))}),400);var r=e.touches[0],n=r.screenX,i=r.screenY;this.touchStart={x:n,y:i},this.x=n,this.y=i}},handleTouchMove:function(e){e.preventDefault(),this.longTouch=!1;var t=e.touches[0],r=t.screenX,n=t.screenY;this.x=r,this.y=n},directionBasedOnTouch:function(e,t){var r,n=this.touchStart.x,i=this.touchStart.y,a=n>e?n-e:e-n,o=i>t?i-t:t-i;if(a>o&&(r=n>e?"left":"right"),o>a&&(r=i>t?"up":"down"),a!==o){var s=et({},this.refForSquare,{direction:r,type:"Arrow"});this.addTransformedSquare(s)}},handleClick:function(e){e.preventDefault(),this.isMobile||(this.directionPickerOpen?this.directionPickerOpen=!1:2!==e.button&&(this.transformedSquare?this.removeTransformedSquare(this.transformedSquare):this.portalCreatorActive?this.addPortal():this.directionPickerOpen?this.directionPickerOpen=!1:(this.directionPickerOpen=!0,this.$emit("clicked-on-square",this.refForSquare))))},handleRightClick:function(e){e.preventDefault(),this.isMobile||this.addTransformedSquare(et({},this.refForSquare,{type:"Pause"}))},addArrow:function(e){var t=et({},this.refForSquare,{direction:e,type:"Arrow"});this.addTransformedSquare(t)},addPortal:function(){this.addTransformedSquare(et({},this.refForSquare,{type:"Portal"}))},clickedOnArrow:function(){this.$emit("closeDirectionPicker",this.refForSquare)},portalNumber:function(){var e=this.refForSquare.refName;return this.getPortalNumber(e)}}),computed:et({},Object(Ve["d"])(["portalCreatorActive","portalsHashObject","arrowRefs","isMobile","transformedSquares","isPlaying","gridSize"]),{},Object(Ve["c"])(["getPortalNumber","findTransformedSquareIndex","findTransformedSquare","getStartingArrow","getColorCenter"]),{colorStyling:function(){var e=this.refForSquare,t=e.x,r=e.y;return this.isStartingArrow?void 0:this.isPlaying&t===this.getColorCenter.x&r===this.getColorCenter.y?{background:"white",border:"1px solid black",boxSizing:"border-box",borderBottom:"1px solid black"}:{background:"rgb(\n        ".concat(this.colorCalcDif(r,"y"),",\n        ").concat(this.colorCalcDif(t,"x"),",250)")}},transformedSquare:function(){return this.findTransformedSquare(this.refForSquare.refName)},isStartingArrow:function(){if(this.getStartingArrow)return this.getStartingArrow.refName===this.refForSquare.refName},refIndex:function(){return this.$store.getters.findTransformedSquareIndex(this.refForSquare.refName)},direction:function(){return this.transformedSquare?this.transformedSquare.direction:null},transformedSquareStyle:function(){if(this.transformedSquare){var e;switch(this.transformedSquare.type){case"Arrow":e=this.whatDirection;break;case"Pause":e="pause";break;case"Portal":e="portal";break}return e}},whatDirection:function(){var e,t=this.direction;switch(t){case"left":e="arrow-left";break;case"right":e="arrow-right";break;case"up":e="arrow-up";break;case"down":e="arrow-down";break;case"center":e="circle";break}var r=this.directionPickerOpen?"hidden":null,n=this.isStartingArrow?e+"-starting-arrow":"";return[e,r,n]}})},rt=tt,nt=(r("d652"),Object(te["a"])(rt,Ne,Ie,!1,null,null,null)),it=nt.exports;function at(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?at(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var st={name:"GridLayout",components:{square:it},data:function(){return{mousePos:{x:1,y:1}}},props:{styling:{type:String,default:"classic"}},methods:{getRefFromCoordinates:function(e,t){return"r".concat(e,"-").concat(t)},refForSquare:function(e,t){var r=this.getRefFromCoordinates(e,t);return{x:e,y:t,refName:r}},addHighlight:function(e){var t=this.$refs[e];t&&t[0].classList.remove("highlight")},colorStyling:function(e,t){switch(this.styling){case"80s":return{background:this.colorCalcDifference(e,t),"box-shadow":"-5px -5px 10px ".concat(this.colorCalcDifference(t,e)," ")};case"classic":return this.colorCalcDifBoth(e,t)}},mouseEventHandler:function(e,t){this.mousePos={x:e,y:t}},createRowClass:function(e){return"row row-".concat(e)},createColClass:function(e){return"col col-".concat(e)},colorCalcY:function(e){var t=e-(this.highlightPos.y-1),r=t<0?-1*t:t;return 18*r},colorCalcDifBoth:function(e,t){return this.isPlaying&e===this.getColorCenter.x&t===this.getColorCenter.y?{background:"white",border:"1px solid black",boxSizing:"border-box",borderBottom:"1px solid black"}:this.isStartingArrow?{background:"rgb(\n        ".concat(this.colorCalcDif(t,"y"),",\n        ").concat(this.colorCalcDif(e,"x"),",250)")}:void 0},colorCalcDif:function(e,t){var r=this.highlightPos[t],n=this.gridSize[t]-1,i=[e,r];i.sort((function(e,t){return t-e}));var a=i[0],o=i[1],s=a-o,c=s/n,l=250*c;return 250-l},colorCalcDifference:function(e,t){var r=[e,this.highlightPos.x],n=[t,this.highlightPos.y];r.sort((function(e,t){return t-e})),n.sort((function(e,t){return t-e}));var i=r[0]-r[1],a=18*i,o=n[0]-n[1],s=18*o,c=200-a,l=200-s;return"rgb("+l+","+c+",250)"}},computed:ot({},Object(Ve["d"])(["playingDiv","isPlaying","portals","arrowRefs","isMobile"]),{},Object(Ve["c"])(["getColorCenter"]),{highlightPos:function(){var e;switch(this.isPlaying||this.isMobile){case!0:e=this.getColorCenter;break;case!1:e=this.mousePos;break}return e},gridSize:function(){return this.$store.getters.getGridSize}})},ct=st,lt=(r("f804"),Object(te["a"])(ct,$e,Ee,!1,null,"362a0a8c",null)),ut=lt.exports,dt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"overlay",on:{click:e.closeOverlay}})},ft=[],pt={name:"Overlay",methods:{closeOverlay:function(){this.$emit("closeOverlay")}}},ht=pt,mt=(r("f170"),Object(te["a"])(ht,dt,ft,!1,null,"d76acecc",null)),gt=mt.exports,vt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:e.width,height:e.height,viewBox:"0 0 18 18","aria-labelledby":e.iconName,role:"presentation"}},[r("title",{attrs:{id:e.iconName,lang:"en"}},[e._v(e._s(e.iconName)+" icon")]),r("g",{attrs:{fill:e.iconColor}},[e._t("default")],2)])},yt=[],bt={props:{iconName:{type:String,default:"box"},width:{type:[Number,String],default:150},height:{type:[Number,String],default:150},iconColor:{type:String,default:"currentColor"}}},wt=bt,Ot=Object(te["a"])(wt,vt,yt,!1,null,null,null),Ct=(Ot.exports,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrapper"},[r("div",{staticClass:"tv-buttons__buttons",class:"tv-buttons__buttons-"+e.getColorTheme},[r("span",{staticClass:"tv-buttons__divider"}),e.desktopVersion?r("div",{staticClass:"tv-buttons__wrapper"},e._l(e.waves,(function(t){return r("div",{key:t,staticClass:"tv-buttons__button",on:{click:function(r){return e.handleClick(t)}}},[r("div",[r("TvButton",{attrs:{value:t,alt:"waveform select button"}},[r(t,{tag:"component",staticClass:"tv-button__btn",attrs:{selected:e.getSelectedWaveform===t}})],1)],1)])})),0):e._e(),r("span",{staticClass:"tv-buttons__divider"}),r("div",{staticClass:"tv-buttons__wrapper"},e._l(e.tvButtons,(function(t,n){return r("div",{key:n,staticClass:"tv-buttons__button"},[r("TvButton",[r(t,{tag:"component",staticClass:"tv-button__btn",attrs:{selected:e.selectedTvButton===t}})],1)],1)})),0)]),r("div",{staticClass:"tv-buttons__buttons-mobile"},e._l(e.mobileTvButtons,(function(t,n){return r("div",{key:n,staticClass:"tv-buttons__button"},[r("TvButton",[r(t,{tag:"component",staticClass:"tv-button__btn",attrs:{selected:e.selectedTvButton===t}})],1)],1)})),0)])}),St=[],_t=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"tv-button",class:e.colorTheme},[e._t("default")],2)},xt=[],Pt={name:"TvButtonComponent",props:{value:{type:String,default:"sine"},selected:{type:Boolean,default:!1}},computed:{colorTheme:function(){return this.$store.getters.getColorTheme}}},jt=Pt,kt=(r("7d49"),Object(te["a"])(jt,_t,xt,!1,null,null,null)),Dt=kt.exports,Tt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{class:e.whatClass,attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56.02 55.95"}},[r("defs"),r("title",[e._v("sine")]),r("g",{attrs:{id:"Layer_3","data-name":"Layer 3"}},[r("path",{staticClass:"cls-2",attrs:{d:"M9.72,26.64s7.32-15.15,13.8,0c9.27,21.71,23.41,3.28,22.4,0"}})])])},At=[],Mt={name:"sine",props:{selected:{type:Boolean,default:!1}},computed:{whatClass:function(){return this.selected?"active":"default"}}},qt=Mt,$t=Object(te["a"])(qt,Tt,At,!1,null,null,null),Et=$t.exports,Nt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{class:e.whatClass,attrs:{id:"Layer_10","data-name":"Layer 10",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56.02 55.95"}},[r("defs"),r("title",[e._v("sawtooth")]),r("polyline",{staticClass:"cls-2",attrs:{points:"46.05 27.98 33.24 33.81 33.24 21.88 10.11 33.81"}})])},It=[],Vt={name:"sawtooth",props:{selected:{type:Boolean,default:!1}},computed:{whatClass:function(){return this.selected?"active":"default"}}},Bt=Vt,zt=(r("6872"),Object(te["a"])(Bt,Nt,It,!1,null,"3fd95e03",null)),Lt=zt.exports,Gt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{class:e.whatClass,attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56.02 55.95"}},[r("defs"),r("title",[e._v("square")]),r("g",{attrs:{id:"Layer_12","data-name":"Layer 12"}},[r("polyline",{staticClass:"cls-2",attrs:{points:"10.11 27.3 10.11 23.08 19.27 23.08 19.27 31.8 28.01 31.8 28.01 23.08 36.8 23.08 36.8 31.8 45.97 31.8 45.97 28.02"}})])])},Rt=[],Ft={name:"square",props:{selected:{type:Boolean,default:!1}},computed:{whatClass:function(){return this.selected?"active":"default"}}},Ht=Ft,Wt=Object(te["a"])(Ht,Gt,Rt,!1,null,null,null),Jt=Wt.exports,Kt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{class:e.whatClass,attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56.02 55.95"}},[r("defs"),r("title",[e._v("triangle")]),r("polyline",{staticClass:"cls-2",attrs:{points:"10.07 27.98 14.43 23.9 23.58 32.21 32.51 23.9 41.66 32.21 45.91 28.05"}})])},Yt=[],Ut={name:"triangle",props:{selected:{type:Boolean,default:!1}},computed:{whatClass:function(){return this.selected?"active":"default"}}},Xt=Ut,Qt=Object(te["a"])(Xt,Kt,Yt,!1,null,null,null),Zt=Qt.exports,er=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.showModal?r("div",{staticClass:"overlay",on:{click:function(t){e.showModal=!1}}},[r("div",{staticClass:"modal"},[r("p",[e._v("Are you sure you want to clear the grid?")]),r("span",{staticClass:"modal__span modal__span--no",on:{click:function(t){e.showModal=!1}}},[e._v("NO")]),r("span",{staticClass:"modal__span modal__span--yes",on:{click:e.clearGrid}},[e._v("YES")])])]):e._e(),r("svg",{staticClass:"default",staticStyle:{"enable-background":"new 0 0 57.1 56.9"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 57.1 56.9","xml:space":"preserve"},on:{click:function(t){e.showModal=!0}}},[r("path",{staticClass:"st0",attrs:{d:"M35.7,41.8"}}),r("path",{staticClass:"st0",attrs:{d:"M16.8,39.2c-4.6-3.5-7.5-9.1-7.5-15.3c0-10.6,8.6-19.3,19.3-19.3s19.3,8.6,19.3,19.3c0,7.5-4.3,14.1-10.7,17.2\n\t\t"}}),r("path",{staticClass:"st0",attrs:{d:"M18.9,40.5c-0.7-0.4-1.4-0.9-2-1.4"}}),r("path",{staticClass:"st0",attrs:{d:"M19.6,40.9c-0.3-0.1-0.5-0.2-0.8-0.4"}}),r("path",{staticClass:"st0",attrs:{d:"M19.8,41.1"}}),r("polyline",{staticClass:"st0",attrs:{points:"19.8,40.5 20,52.2 37.6,52.2 37.4,40.5 \t"}}),r("polygon",{staticClass:"st0",attrs:{points:"28.6,29.2 24.1,36.9 33,36.9 \t"}}),r("line",{staticClass:"st3",attrs:{x1:"14.6",y1:"28.7",x2:"24.6",y2:"18.8"}}),r("line",{staticClass:"st3",attrs:{x1:"24.6",y1:"28.7",x2:"14.6",y2:"18.8"}}),r("line",{staticClass:"st3",attrs:{x1:"31.9",y1:"28.9",x2:"41.8",y2:"18.9"}}),r("line",{staticClass:"st3",attrs:{x1:"41.8",y1:"28.9",x2:"31.9",y2:"18.9"}})])])},tr=[];function rr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rr(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ir={name:"deleteAllArrows",data:function(){return{showModal:!1}},props:{selected:{type:Boolean,default:!1}},methods:nr({},Object(Ve["b"])(["clearGrid"]))},ar=ir,or=(r("a11e"),Object(te["a"])(ar,er,tr,!1,null,"9e56a590",null)),sr=or.exports,cr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{class:e.whatClass,staticStyle:{"enable-background":"new 0 0 57 56.9"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 57 56.9","xml:space":"preserve"},on:{click:e.toggleJoystickMode}},[r("g",{attrs:{id:"knapp2"}},[r("path",{staticClass:"st1",attrs:{d:"M92.7,224.8"}}),r("rect",{staticClass:"st2",attrs:{x:"20.8",y:"20.5",width:"15.6",height:"15.6"}}),r("circle",{staticClass:"st2",attrs:{cx:"28.6",cy:"28.3",r:"5.3"}}),r("rect",{staticClass:"st2",attrs:{x:"36.4",y:"20.5",width:"15.6",height:"15.6"}}),r("rect",{staticClass:"st2",attrs:{x:"5",y:"20.5",width:"15.6",height:"15.6"}}),r("rect",{staticClass:"st2",attrs:{x:"20.7",y:"20.5",width:"15.6",height:"15.6"}}),r("rect",{staticClass:"st2",attrs:{x:"20.8",y:"4.9",width:"15.6",height:"15.6"}}),r("rect",{staticClass:"st2",attrs:{x:"20.8",y:"36.3",width:"15.6",height:"15.6"}}),r("polygon",{staticClass:"st2",attrs:{points:"28.6,8.5 23.9,16.5 33.2,16.5 \t"}}),r("rect",{staticClass:"st2",attrs:{x:"20.7",y:"36.3",width:"15.6",height:"15.6"}}),r("polygon",{staticClass:"st2",attrs:{points:"28.6,48.3 33.2,40.2 23.9,40.2 \t"}}),r("rect",{staticClass:"st2",attrs:{x:"36.4",y:"20.5",width:"15.6",height:"15.6"}}),r("polygon",{staticClass:"st2",attrs:{points:"48.4,28.3 40.3,23.7 40.3,33 \t"}}),r("rect",{staticClass:"st2",attrs:{x:"5",y:"20.6",width:"15.6",height:"15.6"}}),r("polygon",{staticClass:"st2",attrs:{points:"8.6,28.3 16.7,33 16.7,23.7 \t"}})]),r("g",{attrs:{id:"knapp"}})])},lr=[];function ur(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ur(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ur(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var fr={name:"joyStick",props:{selected:{type:Boolean,default:!1}},methods:dr({},Object(Ve["b"])(["toggleJoystickMode"])),computed:dr({},Object(Ve["c"])(["getJoystickMode"]),{whatClass:function(){return this.getJoystickMode?"active":"default"}})},pr=fr,hr=(r("7819"),Object(te["a"])(pr,cr,lr,!1,null,"ff283ff0",null)),mr=hr.exports,gr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{class:e.whatClass,staticStyle:{"enable-background":"new 0 0 57 56.9"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 57 56.9","xml:space":"preserve"},on:{click:function(t){return e.changePortalCreatorActive(!0)}}},[r("circle",{staticClass:"circles",attrs:{cx:"28.5",cy:"28.5",r:"22.4"}}),r("circle",{staticClass:"circles",attrs:{cx:"28.5",cy:"28.5",r:"15.4"}}),r("circle",{staticClass:"circles",attrs:{cx:"28.5",cy:"28.5",r:"7.9"}})])},vr=[];function yr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yr(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var wr={name:"portal",props:{selected:{type:Boolean,default:!1}},methods:br({},Object(Ve["b"])(["changePortalCreatorActive"])),computed:br({},Object(Ve["d"])(["portalCreatorActive"]),{whatClass:function(){return this.portalCreatorActive?"active":"default"}})},Or=wr,Cr=(r("d04b"),Object(te["a"])(Or,gr,vr,!1,null,null,null)),Sr=Cr.exports,_r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{class:e.whatClass,staticStyle:{"enable-background":"new 0 0 57.1 56.8"},attrs:{version:"1.1",id:"arrow",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 57.1 56.8","xml:space":"preserve"},on:{click:function(t){return e.changePortalCreatorActive(!1)}}},[r("polygon",{staticClass:"st0",attrs:{points:"28.5,10.4 8.3,45.5 48.8,45.5 "}})])},xr=[];function Pr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var kr={name:"arrow",methods:jr({},Object(Ve["b"])(["changePortalCreatorActive"])),computed:jr({},Object(Ve["d"])(["portalCreatorActive"]),{whatClass:function(){return this.portalCreatorActive?"default":"active"}})},Dr=kr,Tr=(r("4f47"),Object(te["a"])(Dr,_r,xr,!1,null,"625bf293",null)),Ar=Tr.exports,Mr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{on:{click:e.toggleArrowAndPortal}},[e.portalCreatorActive?r("svg",{staticClass:"active",staticStyle:{"enable-background":"new 0 0 57 56.9"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 57 56.9","xml:space":"preserve"}},[r("circle",{staticClass:"circles",attrs:{cx:"28.5",cy:"28.5",r:"22.4"}}),r("circle",{staticClass:"circles",attrs:{cx:"28.5",cy:"28.5",r:"15.4"}}),r("circle",{staticClass:"circles",attrs:{cx:"28.5",cy:"28.5",r:"7.9"}})]):r("svg",{staticClass:"active",staticStyle:{"enable-background":"new 0 0 57.1 56.8"},attrs:{version:"1.1",id:"arrow",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 57.1 56.8","xml:space":"preserve"}},[r("polygon",{staticClass:"st0",attrs:{points:"28.5,10.4 8.3,45.5 48.8,45.5 "}})])])},qr=[];function $r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$r(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$r(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Nr={name:"portal",props:{selected:{type:Boolean,default:!1}},methods:Er({},Object(Ve["b"])(["toggleArrowAndPortal"])),computed:Er({},Object(Ve["d"])(["portalCreatorActive"]))},Ir=Nr,Vr=(r("ffd8"),Object(te["a"])(Ir,Mr,qr,!1,null,null,null)),Br=Vr.exports,zr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{class:{svg:e.isMuted},staticStyle:{"enable-background":"new 0 0 57 56.9"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 57 56.9","xml:space":"preserve",fill:e.fillColor},on:{click:function(t){return e.toggle()}}},[r("g",{staticClass:"st0"},[r("image",{staticStyle:{display:"inline",overflow:"visible","enable-background":"new"},attrs:{width:"1500",height:"1500",transform:"matrix(9.448819e-02 0 0 9.448819e-02 -19.1786 111.6376)"}})]),r("g",{attrs:{id:"knapp2"}},[r("path",{staticClass:"st1",attrs:{d:"M5,0.5h46.7c2.8,0.6,4.4,2.2,4.8,4.7v46.4c-0.7,2.8-2.3,4.4-5,4.8H6c-2.3-0.2-4.8-2.1-5.5-5.1V5.6\n\t\tC1.1,3,2.5,1.2,5,0.5z"}})]),r("path",{staticClass:"st2",attrs:{d:"M16.7,33.2"}}),r("polyline",{staticClass:"st2",attrs:{points:"16.9,23.2 23,18.8 34.2,10.7 34.2,46.2 16.7,33.6 16.7,33.5 "}}),r("line",{staticClass:"st2",attrs:{x1:"16.9",y1:"23.2",x2:"16.9",y2:"23.2"}}),r("polyline",{staticClass:"st2",attrs:{points:"17.1,23.2 8.3,23.2 8.3,33.7 16.9,33.7 "}}),r("path",{staticClass:"st2",attrs:{d:"M36.8,33.3c0.3-0.2,2.9-2.1,2.8-5.3c-0.1-3-2.5-4.8-2.8-5"}}),r("path",{staticClass:"st2",attrs:{d:"M39.7,37.4c0.4-0.3,5.1-3.6,4.9-9.2c-0.1-5.3-4.4-8.3-4.9-8.6"}}),r("path",{staticClass:"st2",attrs:{d:"M43.8,40.2c0.4-0.4,5.1-4.8,4.9-12.4c-0.1-7.1-4.4-11.1-4.9-11.6"}})])},Lr=[],Gr={name:"mute",data:function(){return{isMuted:!1}},props:{selected:{type:Boolean,default:!1}},methods:{toggle:function(){this.isMuted=!this.isMuted,X(this.isMuted)}},computed:{fillColor:function(){return this.isMuted?"#D0DBCE":"#d9d283"}}},Rr=Gr,Fr=(r("f765"),Object(te["a"])(Rr,zr,Lr,!1,null,"aa82dcec",null)),Hr=Fr.exports;function Wr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wr(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Kr={name:"TvButtonsComponent",data:function(){return{waves:["sine","square","sawtooth","triangle"],selectedTvButton:"",tvButtons:["portal","arrow","clearGrid","joyStick"],mobileTvButtons:["arrowOrPortal","clearGrid","mute"]}},props:{desktopVersion:{type:Boolean,default:!0}},components:{TvButton:Dt,sine:Et,sawtooth:Lt,square:Jt,triangle:Zt,clearGrid:sr,joyStick:mr,portal:Sr,arrow:Ar,arrowOrPortal:Br,mute:Hr},methods:{changeWave:Y,handleClick:function(e){this.$store.dispatch("setSelectedWaveform",e),this.changeWave(e)}},computed:Jr({},Object(Ve["c"])(["getColorTheme","getSelectedWaveform"]))},Yr=Kr,Ur=(r("1e1c"),Object(te["a"])(Yr,Ct,St,!1,null,"418afc87",null)),Xr=Ur.exports,Qr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"secretModal"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.x,expression:"x"}],attrs:{type:"text"},domProps:{value:e.x},on:{keydown:e.handleInput,input:function(t){t.target.composing||(e.x=t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.y,expression:"y"}],attrs:{type:"text"},domProps:{value:e.y},on:{keydown:e.handleInput,input:function(t){t.target.composing||(e.y=t.target.value)}}}),r("span",{on:{click:e.changeGridSize}},[e._v("Okidokonkely")])])},Zr=[],en={name:"secretModal",data:function(){return{x:"",y:""}},methods:{handleInput:function(e){var t=e.charCode;(t<48||t>57)&&0!==t&&e.preventDefault()},changeGridSize:function(){var e=this.x,t=this.y;this.$store.dispatch("changeGridSize",{x:Number(e),y:Number(t)})}}},tn=en,rn=(r("4333"),Object(te["a"])(tn,Qr,Zr,!1,null,null,null)),nn=rn.exports,an=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header",class:"header__"+e.getColorTheme},[n("div",{staticClass:"header__empty"}),e._m(0),"classic"===e.getColorTheme?n("img",{staticClass:"header__leaf",class:"header__leaf-"+e.getColorTheme,attrs:{src:r("7a52"),alt:"leaf"}}):e._e()])},on=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header__center"},[r("h1",{staticClass:"header__h1"},[e._v("Hagrid")]),r("p",{staticClass:"header__sub"},[e._v("grid sequencer")])])}];function sn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ln={name:"CHeader",computed:cn({},Object(Ve["c"])(["getColorTheme"]))},un=ln,dn=(r("714b"),Object(te["a"])(un,an,on,!1,null,"600eef0d",null)),fn=dn.exports,pn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{staticClass:"icon",class:"icon__"+e.colorTheme,staticStyle:{"enable-background":"new 0 0 95 95"},attrs:{version:"1.1",id:"Layer_5",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 95 95","xml:space":"preserve"},on:{mouseover:function(t){e.mouseOver=!0},mouseleave:function(t){e.mouseOver=!1},click:function(t){return e.$emit("clicked")}}},[r("path",{staticClass:"outer-wheel",class:{fill:e.mouseOver},attrs:{d:"M0.5,47.6L0.5,47.6v10V47.6v-0.2v-10H0l0,0h10.3c1.6-5.9,3.9-9,3.9-9L7,21.3L21.1,7.2l7.1,6.8\n\tc4.5-2.8,9.3-4.3,9.3-4.3V0.5H37h0.5H58l0,0h-0.5v9.3c0,0,5.2,1.4,9.3,3.8l6.7-6.4l14.1,14.1l-6.1,6.6c0,0,2,3.6,3.7,9.5h9.3v-0.5\n\tv9.2v1.5v-0.2v-10v10l0,0L95,57.6h-0.5h-9.8c-1.6,5.9-3.9,9-3.9,9l7.2,7.2l-14.1,14L66.8,81c-4.5,2.8-9.3,4.3-9.3,4.3v9.3H58h-0.5\n\tH37.3H37h0.5v-9.3c0,0-5.2-1.4-9.3-3.8l-6.7,6.4L7.3,73.7l6.1-6.6c0,0-2-3.6-3.7-9.5H0.5v0.5"}}),r("path",{staticClass:"circle",class:{fill:e.mouseOver},attrs:{d:"M81,43.6C79.2,27.7,65.9,15.1,49.9,14c-20.3-1.4-37.1,15.3-35.8,35.6c1,16.1,13.5,29.4,29.5,31.2\n\tC65,83.2,83.2,65,81,43.6z M17.9,47.5 M77.3,47.5"}}),(e.colorTheme,r("g",[e.mouseOver?e._e():r("g",[r("path",{staticClass:"open-eye",attrs:{d:"M17.9,47.5c16.4,16.4,43,16.4,59.4,0C60.9,31.1,34.3,31.1,17.9,47.5z"}}),r("path",{staticClass:"iris",attrs:{d:"M34.4,46c0,7.5,6.1,13.7,13.7,13.7S61.7,53.5,61.7,46c0-3.7-1.5-7-3.8-9.5c-6.4-1.6-13-1.7-19.4-0.3\n\tC35.9,38.7,34.4,42.2,34.4,46z"}})]),e.mouseOver?r("path",{staticClass:"closed",attrs:{d:"M17.9,47.6c16.4,16.4,43,16.4,59.4,0"}}):e._e()])),"classic"===e.colorTheme?r("text",{staticClass:"letter",attrs:{transform:"matrix(1 0 0 1 24.7153 69.1103)"}},[e._v(" H ")]):e._e()])},hn=[],mn={name:"IconInfo",data:function(){return{mouseOver:!1}},computed:{colorTheme:function(){return this.$store.getters.getColorTheme}}},gn=mn,vn=(r("fc08"),Object(te["a"])(gn,pn,hn,!1,null,"28af019c",null)),yn=vn.exports,bn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrapper",class:"wrapper__"+e.colorTheme,on:{click:function(t){return e.$emit("clicked")},mouseover:function(t){e.mouseOver=!0},mouseleave:function(t){e.mouseOver=!1}}},[r("svg",{class:e.colorTheme,staticStyle:{"enable-background":"new 0 0 95 95"},attrs:{version:"1.1",id:"Layer_5",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 95 95","xml:space":"preserve"}},[r("circle",{class:e.mouseOver?"mouseOver":"button",attrs:{cx:"47.5",cy:"47.5",r:"47.3"}}),e.isPlaying?r("rect",{staticClass:"symbol",class:e.mouseOver?"symbol__mouseOver":"",attrs:{x:"31.4",y:"33.3",width:"32.2",height:"32.2"}}):r("path",{staticClass:"symbol",class:e.mouseOver?"symbol__mouseOver":"",attrs:{d:"M72.1,47.8L35.3,27.6c0.1,1.9,0,43.4,0,43.4L72.1,47.8z"}})])])},wn=[];function On(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?On(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):On(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Sn={name:"IconPlay",data:function(){return{mouseOver:!1}},methods:{},computed:Cn({},Object(Ve["d"])(["isPlaying","isMobile"]),{colorTheme:function(){return this.$store.getters.getColorTheme}})},_n=Sn,xn=(r("d0dc"),Object(te["a"])(_n,bn,wn,!1,null,"7454a4c3",null)),Pn=xn.exports;r("1276");function jn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Dn={name:"App",components:{GridLayout:ut,Slider:ne,Modal:qe,Overlay:gt,IconInfo:yn,IconPlay:Pn,TvButtonsComponent:Xr,SecretModal:nn,CHeader:fn},created:function(){var e=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);e&&this.$store.commit("isMobile")},data:function(){return{styling:"classic",intervals:"",selectedWaveform:"sawtooth",tvFinishedLoaded:!1,manualDirection:"",direction:"",eraseKeyDown:!1,lastPlayedDiv:"",nextPlayingDiv:"",justChangedDirection:!1,synth:G,initialVolume:8}},mounted:function(){var e=this;this.setupCachedInfo(),this.createNewArpeggios(),R(),window.addEventListener("keyup",(function(t){e.handleKeyUpCommands(t)})),window.addEventListener("keydown",(function(t){e.handleKeyDownCommands(t)}))},methods:kn({},Object(Ve["b"])(["setPlayingDiv","changeIsPlayingState"]),{setupCachedInfo:function(){var e=I(),t=(e.arrowRefs,e.gridSize),r=e.transformedSquares,n=e.waveform,i=e.volume;t&&this.$store.dispatch("changeGridSize",t),r&&this.$store.dispatch("bulkAddTransformedSquares",r),this.$store.dispatch("setAllCachedInfo",e),n&&this.$store.dispatch("setSelectedWaveform",n),(i||0===i)&&(this.initialVolume=i),this.tvFinishedLoaded=!0},playNote:function(e){if(!this.isPlaying&&!this.directionPickerOpen){var t=e.x,r=e.y,n=this.allArpeggios[t-1][r-1];this.midiOutActive?this.midiPlay(n):this.synth.triggerAttackRelease(n,"8n")}},changeGridSize:function(e){this.$store.dispatch("changeGridSize",e),this.createNewArpeggios()},openModal:function(){this.$store.dispatch("modalIsOpen",!0)},changeTheme:function(e){this.styling=e,this.$store.dispatch("modalIsOpen",!1)},createNewArpeggios:function(){this.$store.dispatch("setAllArpeggios")},closeOverlay:function(){this.$store.dispatch("modalIsOpen",!1)},modalEventHandler:function(e){switch(e){case"closeModal":this.$store.dispatch("modalIsOpen",!1);break;case"createAllArs":this.createNewArpeggios();break}},stop:function(){W(),this.changeIsPlayingState(!1),this.changeHighlightClass(this.lastPlayedDiv.refName,"remove"),this.lastPlayedDiv="",this.setPlayingDiv(null),this.midiStop()},play:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isPlaying){t.next=3;break}return e.stop(),t.abrupt("return");case 3:return t.next=5,e.getStartingArrow;case 5:if(r=t.sent,r){t.next=8;break}return t.abrupt("return");case 8:e.setPlayingDiv(r),e.$store.commit("changeIsPlayingState",!0),H(e.repeat);case 11:case"end":return t.stop()}}),t)})))()},repeat:function(e){this.lastPlayedDiv&&this.changeHighlightClass(this.lastPlayedDiv.refName,"remove"),this.isPlaying||this.stop(),this.justChangedDirection&&this.lastPlayedDiv;this.findTransformedSquare(this.playingDiv.refName);var t=this.playingDiv,r=t.x,n=t.y,i=t.refName,a=t.direction,o=t.type,s=t.connectsTo,c=this.gridRefs[i];if(c){this.changeHighlightClass(i,"add"),this.eraseKeyDown&&o&&(this.$store.dispatch("removeTransformedSquare",this.playingDiv),!1,a=this.direction,o=""),a&&(this.direction=a);var l,u=this.allArpeggios[r-1][n-1];if("Pause"!==o&&(this.midiOutActive?this.midiPlay(u):this.synth.triggerAttackRelease(u,"8n",e)),l="Portal"===o&&this.lastPlayedDiv.refName!==s?this.nextCoordinatesBasedOnConnetion(this.playingDiv):this.nextCoordinatesBasedOnDirection(this.playingDiv),this.lastPlayedDiv=this.playingDiv,l){var d=this.findTransformedSquare(l.refName),f=d||l;this.$store.dispatch("setPlayingDiv",f)}}else this.stop()},changeHighlightClass:function(e,t){var r=this.gridRefs[e];r&&r[0]&&("add"===t&&r[0].classList.add("highlight"),"remove"===t&&r[0].classList.remove("highlight"))},changedDirectionsManually:function(){var e={x:this.lastPlayedDiv.x,y:this.lastPlayedDiv.y},t=this.nextCoordinatesBasedOnDirection(e),r=this.getRefFromCoordinates(t.x,t.y);this.setPlayingDiv(kn({},t,{refName:r})),this.writeKeyDown&&(this.lastPlayedDiv.direction=this.direction,this.$store.dispatch("addTransformedSquare",this.lastPlayedDiv)),this.justChangedDirection=!1},getRefFromCoordinates:function(e,t){return"r".concat(e,"-").concat(t)},nextCoordinatesBasedOnDirection:function(e){var t=e.x,r=e.y;switch(this.direction){case"down":r+=1;break;case"right":t+=1;break;case"left":t-=1;break;case"up":r-=1;break}var n=this.getRefFromCoordinates(t,r);return{x:t,y:r,refName:n}},nextCoordinatesBasedOnConnetion:function(e){var t=e.connectsTo;if(t){var r=this.findTransformedSquare(t),n=r.x,i=r.y,a=r.refName;return{x:n,y:i,refName:a}}this.stop()},handleKeyDownCommands:function(e){if(this.joystickMode&&e.keyCode>36&&e.keyCode<41){var t=e.key.replace("Arrow","").toLowerCase();this.direction=t,this.justChangedDirection=!0,e.preventDefault()}32===e.keyCode&&(e.preventDefault(),this.play()),87===e.keyCode&&(this.writeKeyDown=!0),69===e.keyCode&&(this.eraseKeyDown=!0,e.preventDefault())},handleKeyUpCommands:function(e){69===e.keyCode&&(this.eraseKeyDown=!1),87===e.keyCode&&(this.writeKeyDown=!1)},midiPlay:A,midiStop:M}),computed:kn({},Object(Ve["d"])(["playingDiv","isPlaying","allArpeggios","angle","modalIsOpen","joystickMode","isMobile"]),{},Object(Ve["c"])(["getPortalConnection","getColorTheme","getStartingArrow","findTransformedSquare"]),{bpm:function(){return B},reverb:function(){return z.wet.value},gridSize:function(){return this.$store.getters.getGridSize},gridRefs:function(){return this.$refs.gridLayout.$refs},overlayVisible:function(){return this.modalIsOpen},arpeggio:function(){return this.$store.getters.getArpeggio},midiOutActive:function(){return this.$store.getters.midiOutActive},backgroundColors:function(){return this.$store.state.isPlaying?this.$store.state.backgroundColors:{background:"white"}}}),metaInfo:function(){return{title:"Hagrid grid sequencer",meta:[{vmid:"description",name:"Hagrid grid sequencer",content:"A grid sequencer you can use in your browswer, enjoy!"}]}}},Tn=Dn,An=(r("5c0b"),Object(te["a"])(Tn,i,a,!1,null,null,null)),Mn=An.exports,qn=r("a18c"),$n=r.n(qn),En=(r("7db0"),r("c740"),function(e,t,r){var n=[],i=0;if(t){for(var a=0;a<=t.x;a++){var o=Nn(i,e,t,r,a);n.push(o);var s=parseInt(e[a%e.length],10);i+=s}return n}}),Nn=function(e,t,r,n,i){var a=[],o=e,s=i;if("symetric"===n)for(var c=0;c<=r.y;c++){a.push(In(o));var l=parseInt(t[c%t.length],10);o+=l}if("diatonic"===n)for(var u=0;u<=r.y;u++){a.push(In(o));var d=parseInt(t[s%t.length],10);o+=d,s++}return a},In=function(e){return 55*Math.pow(2,e/12)};function Vn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vn(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}n["a"].use(Ve["a"]);var zn=new Ve["a"].Store({state:{isPlaying:!1,playingDiv:null,backgroundColors:"",transformedSquares:[],arrowRefs:[],direction:"",gridSize:{x:15,y:15},arpeggio:[4,3,4,1],allArpeggios:[],isMobile:!1,angle:"symetric",midiOutActive:!1,modalIsOpen:!1,joystickMode:!1,portalCreatorActive:!1,openPortal:null,colorTheme:"classic",selectedWaveform:"sawtooth",intialVolume:8},mutations:{setSelectedWaveform:function(e,t){e.selectedWaveform=t},toggleArrowAndPortal:function(e){e.portalCreatorActive=!e.portalCreatorActive},setAllCachedInfo:function(e,t){Object.keys(t).forEach((function(r){t[r]&&(e[r]=t[r])}))},setColorTheme:function(e,t){e.colorTheme=t,E(e.colorTheme,"colorTheme")},toggleJoystickMode:function(e){e.joystickMode=!e.joystickMode,E(e.joystickMode,"joystickMode")},changeIsPlayingState:function(e,t){e.isPlaying=t},changePlayingDiv:function(e,t){e.playingDiv=t},addArrow:function(e,t){e.transformedSquares.push(t),E(e.transformedSquares,"transformedSquares")},updateTransformedSquaresAfterGridChange:function(e,t){e.transformedSquares=t,E(e.transformedSquares,"transformedSquares")},bulkAddTransformedSquares:function(e,t){e.transformedSquares=t,E(e.transformedSquares,"transformedSquares")},removePortal:function(e,t){var r=e.transformedSquares,n=t.connectsTo,i=t.refName;n&&(r=r.filter((function(e){return e.refName!==n}))),r=r.filter((function(e){return e.refName!==i})),e.openPortal="",e.transformedSquares=r,E(r,"transformedSquares")},removeTransformedSquare:function(e,t){var r=t.refName,n=this.getters.findTransformedSquareIndex(r);if(-1!==n){var i=e.transformedSquares.filter((function(e){return e.refName!==r}));e.transformedSquares=i,E(e.transformedSquares,"transformedSquares")}},clearGrid:function(e){e.transformedSquares=[],E(e.transformedSquares,"transformedSquares")},changeDirectionOnArrowRef:function(e,t){var r=t.index,n=t.direction;e.transformedSquares[r].direction=n,E(e.transformedSquares,"arrowRefs")},setGridSize:function(e,t){var r={},n=t.x,i=t.y;r.x=n||e.gridSize.x,r.y=i||e.gridSize.y,e.isPlaying=!1,e.gridSize=r,E(e.gridSize,"gridSize")},setArpeggio:function(e,t){e.arpeggio=t,E(t,"arpeggio")},isMobile:function(e){e.isMobile=!0},setAllArpeggios:function(e,t){e.allArpeggios=t},setAngle:function(e,t){e.angle=t},setModal:function(e,t){e.modalIsOpen=t},toggleMidiOutActive:function(e){e.midiOutActive=!e.midiOutActive,E(e.midiOutActive,"midiOutActive")},changePortalCreatorActive:function(e,t){e.portalCreatorActive=t},addPortal:function(e,t){if(e.openPortal){var r=e.openPortal;e.transformedSquares.push(Bn({},t,{connectsTo:r.refName,type:"Portal"}));var n=e.transformedSquares.findIndex((function(e){return e.refName==r.refName}));return e.transformedSquares[n].connectsTo=t.refName,e.openPortal=null,void E(e.transformedSquares,"transformedSquares")}e.transformedSquares.push(Bn({},t,{type:"Portal"})),e.openPortal=t},addPause:function(e,t){e.transformedSquares.push(t),E(e.transformedSquares,"transformedSquares")}},actions:{togglePause:function(e,t){e.commit},setSelectedWaveform:function(e,t){var r=e.commit;r("setSelectedWaveform",t)},toggleArrowAndPortal:function(e){var t=e.commit;t("toggleArrowAndPortal")},setAllCachedInfo:function(e,t){var r=e.commit;r("setAllCachedInfo",t)},setColorTheme:function(e,t){var r=e.commit;r("setColorTheme",t)},toggleJoystickMode:function(e){var t=e.commit;t("toggleJoystickMode")},clearGrid:function(e){var t=e.commit;t("clearGrid")},modalIsOpen:function(e,t){var r=e.commit;r("setModal",t)},changeIsPlayingState:function(e,t){var r=e.commit;r("changeIsPlayingState",t)},setPlayingDiv:function(e,t){var r=e.commit;r("changePlayingDiv",t)},addArrowRef:function(e,t){var r=e.commit,n=e.getters,i=t.x,a=t.y,o=t.direction,s=t.refName,c=n.findTransformedSquareIndex(s);-1===c?r("addArrowRef",{x:i,y:a,refName:s,direction:o,type:"arrow"}):r("changeDirectionOnArrowRef",{index:c,direction:o})},removeTransformedSquare:function(e,t){var r=e.commit;"Portal"===t.type?r("removePortal",t):r("removeTransformedSquare",t)},addTransformedSquare:function(e,t){var r=e.commit;r("add".concat(t.type),t)},changeGridSize:function(e,t){var r=e.commit,n=e.dispatch;r("changeIsPlayingState",!1),r("setGridSize",t),n("setAllArpeggios"),n("updateTransformedSquaresAfterGridChange")},changeArpeggio:function(e,t){var r=e.commit,n=e.dispatch;r("setArpeggio",t),n("setAllArpeggios")},bulkAddTransformedSquares:function(e,t){var r=e.commit,n=e.dispatch;r("bulkAddTransformedSquares",t),n("updateTransformedSquaresAfterGridChange")},updateTransformedSquaresAfterGridChange:function(e){var t=e.commit,r=e.state,n=r.gridSize,i=n.x,a=n.y,o=r.transformedSquares.filter((function(e){return e.x<=i&&e.y<=a}));t("updateTransformedSquaresAfterGridChange",o)},changeGridMaxValue:function(e,t){var r=e.commit;r("setGridMaxValue",Number(t))},setAllArpeggios:function(e){var t=e.commit,r=e.state,n=En(r.arpeggio,r.gridSize,r.angle);t("setAllArpeggios",n)},changeAngle:function(e,t){var r=e.commit;r("setAngle",t)},toggleMidiOutActive:function(e){var t=e.commit;e.dispatch;t("toggleMidiOutActive")},changeTone:function(e,t){e.rootstate;var r=t.name,n=t.val;switch(r){case"reverb":K(n);break;case"bpm":J(n);break}},changePortalCreatorActive:function(e,t){var r=e.commit;r("changePortalCreatorActive",t)}},getters:{getColorCenter:function(e){if(e.playingDiv)return e.playingDiv;var t=Math.floor(e.gridSize.x/2),r=Math.floor(e.gridSize.y/2),n="r".concat(t,",").concat(r);return{x:t,y:r,refName:n}},getSelectedWaveform:function(e){return e.selectedWaveform},getPortalCreatorActive:function(e){return e.portalCreatorActive},getJoystickMode:function(e){return e.joystickMode},getStartingArrow:function(e){return e.transformedSquares.find((function(e){return e.direction}))},findTransformedSquareIndex:function(e){return function(t){var r=e.transformedSquares.findIndex((function(e){return e.refName==t}));return r}},findTransformedSquare:function(e){return function(t){var r=e.transformedSquares.filter((function(e){return e.refName==t}));return r[0]}},getPortalNumber:function(e){return function(t){var r=e.transformedSquares.filter((function(e){return"Portal"===e.type})),n=r.findIndex((function(e){return e.refName===t})),i=Math.round((n+1)/2);return i}},getArrowRefs:function(e){return e.arrowRefs},getPlayingDiv:function(e){return e.playingDiv},getGridSize:function(e){return e.gridSize},getArpeggio:function(e){return e.arpeggio},midiOutActive:function(e){return e.midiOutActive},getColorTheme:function(e){return e.colorTheme}},modules:{}}),Ln=r("58ca");n["a"].use(Ln["a"],{keyName:"metaInfo",attribute:"data-vue-meta",tagIDKeyName:"vmid",refreshOnceOnNavigation:!0}),n["a"].config.productionTip=!1,new n["a"]({router:$n.a,store:zn,render:function(e){return e(Mn)}}).$mount("#app")},5782:function(e,t,r){},"59d4":function(e,t,r){},"5bdb":function(e,t,r){},"5c0b":function(e,t,r){"use strict";r("9c0c")},"5db9":function(e,t,r){},"5fe9":function(e,t,r){"use strict";r("d57a")},6352:function(e,t,r){},6872:function(e,t,r){"use strict";r("4cd9")},"714b":function(e,t,r){"use strict";r("3670")},7344:function(e,t,r){},7819:function(e,t,r){"use strict";r("59d4")},"7a52":function(e,t,r){e.exports=r.p+"img/blad.2111de14.svg"},"7d49":function(e,t,r){"use strict";r("8865")},8740:function(e,t,r){},8865:function(e,t,r){},"8b65":function(e,t,r){},"9c0c":function(e,t,r){},a11e:function(e,t,r){"use strict";r("5782")},a18c:function(e,t){},a7e5:function(e,t,r){},b140:function(e,t,r){"use strict";r("d013")},b6e7:function(e,t,r){},ba82:function(e,t,r){"use strict";r("7344")},bde8:function(e,t,r){},ccf8:function(e,t,r){},d013:function(e,t,r){},d04b:function(e,t,r){"use strict";r("5db9")},d0dc:function(e,t,r){"use strict";r("ee25")},d402:function(e,t,r){},d57a:function(e,t,r){},d652:function(e,t,r){"use strict";r("ccf8")},d9ab:function(e,t,r){},db87:function(e,t,r){},ee25:function(e,t,r){},f170:function(e,t,r){"use strict";r("6352")},f765:function(e,t,r){"use strict";r("0cda")},f804:function(e,t,r){"use strict";r("d402")},fa46:function(e,t,r){"use strict";r("09c4")},fc08:function(e,t,r){"use strict";r("b6e7")},ffd8:function(e,t,r){"use strict";r("09e1")}});
//# sourceMappingURL=app.5d97e425.js.map